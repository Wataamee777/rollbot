import express from 'express';
import { Client, GatewayIntentBits, EmbedBuilder } from 'discord.js';
import dotenv from 'dotenv';
dotenv.config();

const app = express();
const PORT = process.env.PORT || 3000;

const client = new Client({
  intents: [GatewayIntentBits.Guilds, GatewayIntentBits.GuildMessages, GatewayIntentBits.MessageContent],
});

// Expressã®ãƒ«ãƒ¼ãƒˆè¨­å®š
app.get('/', (req, res) => {
  res.send('<h1>Hello World</h1>');
});

// Discord botã®ã‚¤ãƒ™ãƒ³ãƒˆ
client.on('ready', () => {
  console.log(`Logged in as ${client.user.tag}`);
});

client.on('messageCreate', async (message) => {
  if (message.author.bot) return;
  if (message.content.includes('æ–™ç†ã‚¬ãƒãƒ£')) {
    const ingredients = [
  'å¡©', 'å‘³ã®ç´ ', 'é†¤æ²¹', 'ç ‚ç³–', 'é…¢', 'ã¿ã‚Šã‚“', 'ã”ã¾æ²¹', 'ãƒ©ãƒ¼æ²¹', 'ã«ã‚“ã«ã', 'ã—ã‚‡ã†ãŒ',
  'ã­ãŽ', 'å”è¾›å­', 'ã“ã—ã‚‡ã†', 'é…’', 'æ˜†å¸ƒ', 'ã‹ã¤ãŠç¯€', 'å‘³å™Œ', 'ã¯ã¡ã¿ã¤', 'ãƒ¬ãƒ¢ãƒ³æ±', 'ã‚ªãƒªãƒ¼ãƒ–ã‚ªã‚¤ãƒ«',
  'ãƒã‚¿ãƒ¼', 'ãƒžãƒ¨ãƒãƒ¼ã‚º', 'ã‚±ãƒãƒ£ãƒƒãƒ—', 'ã‚½ãƒ¼ã‚¹', 'ã‚«ãƒ¬ãƒ¼ç²‰', 'ã‚¿ãƒ¼ãƒ¡ãƒªãƒƒã‚¯', 'ã‚¯ãƒŸãƒ³', 'ãƒŠãƒ„ãƒ¡ã‚°', 'ã‚·ãƒŠãƒ¢ãƒ³', 'ã‚¯ãƒ­ãƒ¼ãƒ–',
  'ãƒã‚¸ãƒ«', 'ã‚ªãƒ¬ã‚¬ãƒŽ', 'ãƒ­ãƒ¼ã‚ºãƒžãƒªãƒ¼', 'ã‚¿ã‚¤ãƒ ', 'ã‚»ãƒ¼ã‚¸', 'ãƒ‘ã‚»ãƒª', 'ã‚³ãƒªã‚¢ãƒ³ãƒ€ãƒ¼', 'ãƒ•ã‚§ãƒ³ãƒãƒ«', 'ã‚«ã‚¤ã‚¨ãƒ³ãƒšãƒƒãƒ‘ãƒ¼', 'ãƒ‘ãƒ—ãƒªã‚«',
  'é»’é…¢', 'ç™½ã ã—', 'é¶ã‚¬ãƒ©ã‚¹ãƒ¼ãƒ—ã®ç´ ', 'ãƒ›ãƒ¯ã‚¤ãƒˆãƒšãƒƒãƒ‘ãƒ¼', 'ã—ã‚‡ã†ã‚†éº¹', 'ã¿ãéº¹', 'æ˜†å¸ƒèŒ¶', 'é°¹ã ã—', 'è±†æ¿é†¤', 'ç”œéººé†¤',
  'ã‚µãƒ©ãƒ€æ²¹', 'ã‚­ãƒ£ãƒŽãƒ¼ãƒ©æ²¹', 'ã”ã¾', 'ãƒ”ãƒ¼ãƒŠãƒƒãƒ„', 'ã‚¢ãƒ¼ãƒ¢ãƒ³ãƒ‰', 'ã‚¯ãƒ«ãƒŸ', 'ã‚³ã‚³ãƒŠãƒƒãƒ„ãƒŸãƒ«ã‚¯', 'ç‰›ä¹³', 'ç”Ÿã‚¯ãƒªãƒ¼ãƒ ', 'ãƒ¨ãƒ¼ã‚°ãƒ«ãƒˆ',
  'ãƒãƒ¼ã‚º', 'ãƒˆãƒžãƒˆãƒšãƒ¼ã‚¹ãƒˆ', 'ãƒžã‚¹ã‚¿ãƒ¼ãƒ‰', 'ãƒ¯ã‚µãƒ“', 'ã‚¿ãƒã‚¹ã‚³', 'ãƒãƒ«ã‚µãƒŸã‚³é…¢', 'ãƒ¡ãƒ¼ãƒ—ãƒ«ã‚·ãƒ­ãƒƒãƒ—', 'ã‚³ã‚³ã‚¢ãƒ‘ã‚¦ãƒ€ãƒ¼', 'ãƒãƒªãƒ‘ã‚¦ãƒ€ãƒ¼', 'ã‚¬ãƒ©ãƒ ãƒžã‚µãƒ©',
  'ç™½ã”ã¾', 'é»’ã”ã¾', 'ã‚ãŠã•', 'æµ·è‹”', 'ã‚ã•ã³æ¼¬ã‘', 'æ¢…å¹²ã—', 'ã‹ã¼ã™', 'ã‚†ãšèƒ¡æ¤’', 'å±±æ¤’', 'ä¸ƒå‘³å”è¾›å­',
  'ã‚¯ãƒ¬ã‚¤ã‚¸ãƒ¼ã‚½ãƒ«ãƒˆ', 'ã‚¸ãƒ³ã‚¸ãƒ£ãƒ¼ãƒ‘ã‚¦ãƒ€ãƒ¼', 'ã‚¬ãƒ¼ãƒªãƒƒã‚¯ãƒ‘ã‚¦ãƒ€ãƒ¼', 'ã‚ªãƒ‹ã‚ªãƒ³ãƒ‘ã‚¦ãƒ€ãƒ¼', 'ã‚»ãƒ­ãƒªã‚·ãƒ¼ãƒ‰', 'ãƒ¬ãƒƒãƒ‰ãƒšãƒƒãƒ‘ãƒ¼', 'ãƒãƒ‹ãƒ©ã‚¨ãƒƒã‚»ãƒ³ã‚¹', 'ãƒã‚­ãƒ³ãƒ–ã‚¤ãƒ¨ãƒ³', 'ãƒ“ãƒã‚¬ãƒ¼', 'ãƒ¬ãƒƒãƒ‰ãƒ¯ã‚¤ãƒ³',
  'ç™½ãƒ¯ã‚¤ãƒ³', 'ã¿ã¤ã°', 'ã—ã', 'ã¿ã¤ã°', 'ã—ã‚‡ã†ãŒæ±', 'ã«ã‚“ã«ããƒãƒƒãƒ—', 'ã‚³ã‚·ãƒ§ã‚¦', 'å¡©éº¹', 'é…¢å‘³å™Œ', 'ç ‚ç³–æ¼¬ã‘ã®ãƒ¬ãƒ¢ãƒ³' // ... å¿…è¦ã«å¿œã˜ã¦100å€‹ä»¥ä¸Š
    ];
    const choice = ingredients[Math.floor(Math.random() * ingredients.length)];

    const embed = new EmbedBuilder()
      .setTitle('ðŸŽ² æ–™ç†ã‚¬ãƒãƒ£çµæžœ ðŸŽ²')
      .setDescription(`ã€é£Ÿæã€‘${choice}\n${message.author}`)
      .setColor(0xffcc00);

    await message.channel.send({ embeds: [embed] });
  }
});

// ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ã¨Discordãƒ­ã‚°ã‚¤ãƒ³
app.listen(PORT, () => {
  console.log(`Express server running at http://localhost:${PORT}`);
});

client.login(process.env.DISCORD_TOKEN);
