import express from 'express';
import { Client, GatewayIntentBits, EmbedBuilder } from 'discord.js';
import dotenv from 'dotenv';
dotenv.config();

const app = express();
const PORT = process.env.PORT || 3000;

const client = new Client({
  intents: [GatewayIntentBits.Guilds, GatewayIntentBits.GuildMessages, GatewayIntentBits.MessageContent],
});

// Expressã®ãƒ«ãƒ¼ãƒˆè¨­å®š
app.get('/', (req, res) => {
  res.send('<h1>Hello World</h1>');
});

// Discord botã®ã‚¤ãƒ™ãƒ³ãƒˆ
client.on('ready', () => {
  console.log(`Logged in as ${client.user.tag}`);
});

client.on('messageCreate', async (message) => {
  if (message.author.bot) return;
  if (message.content.includes('æ–™ç†ã‚¬ãƒãƒ£')) {
    const ingredients = [
  '1 å¡©', '2 å‘³ã®ç´ ', '3 é†¤æ²¹', '4 ç ‚ç³–', '5 é…¢', '6 ã¿ã‚Šã‚“', '7 ã”ã¾æ²¹', '8 ãƒ©ãƒ¼æ²¹', '9 ã«ã‚“ã«ã', '10 ã—ã‚‡ã†ãŒ',
  '11 ã­ãŽ', '12 å”è¾›å­', '13 ã“ã—ã‚‡ã†', '14 é…’', '15 æ˜†å¸ƒ', '16 ã‹ã¤ãŠç¯€', '17 å‘³å™Œ', '18 ã¯ã¡ã¿ã¤', '19 ãƒ¬ãƒ¢ãƒ³æ±', '20 ã‚ªãƒªãƒ¼ãƒ–ã‚ªã‚¤ãƒ«',
  '21 ãƒã‚¿ãƒ¼', '22 ãƒžãƒ¨ãƒãƒ¼ã‚º', '23 ã‚±ãƒãƒ£ãƒƒãƒ—', '24 ã‚½ãƒ¼ã‚¹', '25 ã‚«ãƒ¬ãƒ¼ç²‰', '26 ã‚¿ãƒ¼ãƒ¡ãƒªãƒƒã‚¯', '27 ã‚¯ãƒŸãƒ³', '28 ãƒŠãƒ„ãƒ¡ã‚°', '29 ã‚·ãƒŠãƒ¢ãƒ³', '30 ã‚¯ãƒ­ãƒ¼ãƒ–',
  '31 ãƒã‚¸ãƒ«', '32 ã‚ªãƒ¬ã‚¬ãƒŽ', '33 ãƒ­ãƒ¼ã‚ºãƒžãƒªãƒ¼', '34 ã‚¿ã‚¤ãƒ ', '35 ã‚»ãƒ¼ã‚¸', '36 ãƒ‘ã‚»ãƒª', '37 ã‚³ãƒªã‚¢ãƒ³ãƒ€ãƒ¼', '38 ãƒ•ã‚§ãƒ³ãƒãƒ«', '39 ã‚«ã‚¤ã‚¨ãƒ³ãƒšãƒƒãƒ‘ãƒ¼', '40 ãƒ‘ãƒ—ãƒªã‚«',
  '41 é»’é…¢', '42 ç™½ã ã—', '43 é¶ã‚¬ãƒ©ã‚¹ãƒ¼ãƒ—ã®ç´ ', '44 ãƒ›ãƒ¯ã‚¤ãƒˆãƒšãƒƒãƒ‘ãƒ¼', '45 ã—ã‚‡ã†ã‚†éº¹', '46 ã¿ãéº¹', '47 æ˜†å¸ƒèŒ¶', '48 é°¹ã ã—', '49 è±†æ¿é†¤', '50 ç”œéººé†¤',
  '51 ã‚µãƒ©ãƒ€æ²¹', '52 ã‚­ãƒ£ãƒŽãƒ¼ãƒ©æ²¹', '53 ã”ã¾', '54 ãƒ”ãƒ¼ãƒŠãƒƒãƒ„', '55 ã‚¢ãƒ¼ãƒ¢ãƒ³ãƒ‰', '56 ã‚¯ãƒ«ãƒŸ', '57 ã‚³ã‚³ãƒŠãƒƒãƒ„ãƒŸãƒ«ã‚¯', '58 ç‰›ä¹³', '59 ç”Ÿã‚¯ãƒªãƒ¼ãƒ ', '60 ãƒ¨ãƒ¼ã‚°ãƒ«ãƒˆ',
  '61 ãƒãƒ¼ã‚º', '62 ãƒˆãƒžãƒˆãƒšãƒ¼ã‚¹ãƒˆ', '63 ãƒžã‚¹ã‚¿ãƒ¼ãƒ‰', '64 ãƒ¯ã‚µãƒ“', '65 ã‚¿ãƒã‚¹ã‚³', '66 ãƒãƒ«ã‚µãƒŸã‚³é…¢', '67 ãƒ¡ãƒ¼ãƒ—ãƒ«ã‚·ãƒ­ãƒƒãƒ—', '68 ã‚³ã‚³ã‚¢ãƒ‘ã‚¦ãƒ€ãƒ¼', '69 ãƒãƒªãƒ‘ã‚¦ãƒ€ãƒ¼', '70 ã‚¬ãƒ©ãƒ ãƒžã‚µãƒ©',
  '71 ç™½ã”ã¾', '72 é»’ã”ã¾', '73 ã‚ãŠã•', '74 æµ·è‹”', '75 ã‚ã•ã³æ¼¬ã‘', '76 æ¢…å¹²ã—', '77 ã‹ã¼ã™', '78 ã‚†ãšèƒ¡æ¤’', '79 å±±æ¤’', '80 ä¸ƒå‘³å”è¾›å­',
  '81 ã‚¯ãƒ¬ã‚¤ã‚¸ãƒ¼ã‚½ãƒ«ãƒˆ', '82 ã‚¸ãƒ³ã‚¸ãƒ£ãƒ¼ãƒ‘ã‚¦ãƒ€ãƒ¼', '83 ã‚¬ãƒ¼ãƒªãƒƒã‚¯ãƒ‘ã‚¦ãƒ€ãƒ¼', '84 ã‚ªãƒ‹ã‚ªãƒ³ãƒ‘ã‚¦ãƒ€ãƒ¼', '85 ã‚»ãƒ­ãƒªã‚·ãƒ¼ãƒ‰', '86 ãƒ¬ãƒƒãƒ‰ãƒšãƒƒãƒ‘ãƒ¼', '87 ãƒãƒ‹ãƒ©ã‚¨ãƒƒã‚»ãƒ³ã‚¹', '88 ãƒã‚­ãƒ³ãƒ–ã‚¤ãƒ¨ãƒ³', '89 ãƒ“ãƒã‚¬ãƒ¼', '90 ãƒ¬ãƒƒãƒ‰ãƒ¯ã‚¤ãƒ³',
  '91 ç™½ãƒ¯ã‚¤ãƒ³', '92 ã¿ã¤ã°', '93 ã—ã', '94 ã—ã‚‡ã†ãŒæ±', '95 ã«ã‚“ã«ããƒãƒƒãƒ—', '96 ã‚³ã‚·ãƒ§ã‚¦', '97 å¡©éº¹', '98 é…¢å‘³å™Œ', '99 ç ‚ç³–æ¼¬ã‘ã®ãƒ¬ãƒ¢ãƒ³'
];

    const choice = ingredients[Math.floor(Math.random() * ingredients.length)];

    const embed = new EmbedBuilder()
      .setTitle('ðŸŽ² æ–™ç†ã‚¬ãƒãƒ£çµæžœ ðŸŽ²')
      .setDescription(`ã€é£Ÿæã€‘${choice}\n${message.author}`)
      .setColor(0xffcc00);

    await message.channel.send({ embeds: [embed] });
  }
});

// ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ã¨Discordãƒ­ã‚°ã‚¤ãƒ³
app.listen(PORT, () => {
  console.log(`Express server running at http://localhost:${PORT}`);
});

client.login(process.env.DISCORD_TOKEN);
